define("components/flip/flip",function(t,e,r){var a=function(t,e,r){this.currentPage=e||0,this.currentCard=0,this.maxPage=t.length-3,this.status=null,this.callbacks=r,this.pageConfig=t,this.count=0,this.init()};a.prototype.init=function(){this.renderHtml(),this.update(),this.bindEvent()},a.prototype.renderHtml=function(){var t='<div class="content-wrapper">\n    <div class="content-container">\n        <div class="img-wrapper one">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n        <div class="img-wrapper two">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n        <div class="img-wrapper three">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n    </div>\n</div>',e=document.createElement("div");e.style.cssText="width:100%;height:100%",e.innerHTML=t,document.body.appendChild(e)},a.prototype.update=function(){this.callbacks.pageStat.apply(this,[]);var t=this.currentPage,e=this.pageConfig,r=e[t],a=e[t+2];this.maxCard=e[t+1].length;var s=.5*-document.body.clientHeight;if(this.count>0){if(this.status&&"forward"==this.status){var n=document.querySelector(".two");document.querySelector(".three").className="img-wrapper two",document.querySelector(".one").className="img-wrapper one",n.className="img-wrapper three"}if(this.status&&"back"==this.status){var n=document.querySelector(".two");document.querySelector(".one").className="img-wrapper two",document.querySelector(".three").className="img-wrapper three",n.className="img-wrapper one"}var o=document.querySelector(".one .page-top"),l=document.querySelector(".two .page-top"),i=document.querySelector(".three .page-top"),c=document.querySelector(".one .page-bottom"),d=document.querySelector(".two .page-bottom"),u=document.querySelector(".three .page-bottom");o.innerHTML=r.htmlContent,c.innerHTML=r.htmlContent,i.innerHTML=a.htmlContent,u.innerHTML=a.htmlContent;var p="";o.style.cssText=p,l.style.cssText=p,i.style.cssText=p,c.style.cssText=p,d.style.cssText=p,u.style.cssText=p;for(var m=document.querySelectorAll(".page-bottom"),y=0;y<m.length;y++)m[y].children[0].style.top=s+"px";this.status=null}else for(var m=document.querySelectorAll(".page-bottom"),g=document.querySelectorAll(".page-top"),y=0;y<m.length;y++)g[y].innerHTML=e[t+y].htmlContent,m[y].innerHTML=e[t+y].htmlContent;this.count++,e[t+1].events&&e[t+1].events()},a.prototype.bindEvent=function(){var t,e,r,a,s,n,o=document.querySelector(".content-container"),l=this,i={},c={},d=null,u=0,p=0;o.addEventListener("touchstart",function(o){t=document.querySelector(".one .page-bottom"),e=document.querySelector(".two .page-top"),r=document.querySelector(".two .page-bottom"),a=document.querySelector(".three .page-top"),s=document.querySelectorAll(".two .card-wrapper ul"),n=document.querySelectorAll(".two .tab");var l=o.touches[0];i={x:l.pageX,y:l.pageY},o.stopPropagation()}),o.addEventListener("touchmove",function(n){n.stopPropagation(),n.preventDefault();var o=n.touches[0];if(c={x:o.pageX,y:o.pageY},d){var m=i.y-c.y,y=c.x-i.x;if(Math.abs(m)<Math.abs(y)&&s.length>0){if("forward"!==l.status||"back"!==l.status){if(0>y&&!l.status){if(!(l.currentCard<l.maxCard-1))return;l.status="left"}"left"===l.status&&y>0&&(l.status=null),y>0&&!l.status&&(l.currentCard>0?l.status="right":(y=0,l.status=null));var g=s[0].children[0].clientWidth;y>g&&(y=g),-g>y&&(y=-g),p=y,y-=g*l.currentCard;for(var f=0;f<s.length;f++)s[f].style.webkitTransform="translate3d("+y+"px, 0, 0)",s[f].style.transform="translate3d("+y+"px, 0, 0)"}}else{if(m>0&&!l.status){if(!(l.currentPage<l.maxPage))return;l.status="forward"}if(0>m&&!l.status){if(!(l.currentPage>0))return;l.status="back"}if("forward"==l.status&&0>m)return;if("back"==l.status&&m>0)return;u=.4*m,"forward"==l.status&&(u>180&&(u=180),r.style.webkitTransform="rotateX("+u+"deg)",r.style.transform="rotateX("+u+"deg)",a.style.webkitTransform="rotateX("+(u-180)+"deg)",a.style.transform="rotateX("+(u-180)+"deg)",u>85&&(a.style.zIndex=4)),"back"==l.status&&(-180>u&&(u=-180),t.style.webkitTransform="rotateX("+(180+u)+"deg)",t.style.transform="rotateX("+(180+u)+"deg)",e.style.webkitTransform="rotateX("+u+"deg)",e.style.transform="rotateX("+u+"deg)",-85>u&&(t.style.zIndex=4,e.style.zIndex=2))}}d={x:c.x,y:c.y}}),o.addEventListener("touchend",function(o){o.changedTouches[0];if(p>50&&"right"===l.status){l.currentCard--;var i=s[0].children[0].clientWidth;p=-l.currentCard*i;for(var c=0;c<s.length;c++)s[c].style.webkitTransform="translate3d("+p+"px, 0, 0)",s[c].style.transform="translate3d("+p+"px, 0, 0)";for(var d=n.length,c=0;d>c;c++)n[c].style.opacity=0;n[l.currentCard].style.opacity=1,n[l.currentCard+.5*d].style.opacity=1}if(-50>p&&"left"===l.status){l.currentCard++;var i=s[0].children[0].clientWidth;p=-l.currentCard*i;for(var c=0;c<s.length;c++)s[c].style.webkitTransform="translate3d("+p+"px, 0, 0)",s[c].style.transform="translate3d("+p+"px, 0, 0)";for(var d=n.length,c=0;d>c;c++)n[c].style.opacity=0;n[l.currentCard].style.opacity=1,n[l.currentCard+.5*d].style.opacity=1}u>85&&"forward"==l.status?(r.style.webkitTransform="rotateX(180deg)",r.style.transform="rotateX(180deg)",a.style.webkitTransform="rotateX(0deg)",a.style.transform="rotateX(0deg)",a.style.webkitTransform="rotateX(0deg)",a.style.transform="rotateX(0deg)",a.style.zIndex=4,l.currentPage++,l.update()):85>u&&"forward"==l.status&&(r.style.webkitTransform="rotateX(0deg)",r.style.transform="rotateX(0deg)",a.style.webkitTransform="rotateX(180deg)",a.style.transform="rotateX(180deg)"),-85>u&&"back"==l.status?(t.style.webkitTransform="rotateX(0deg)",t.style.transform="rotateX(0deg)",e.style.webkitTransform="rotateX(180deg)",e.style.transform="rotateX(180deg)",t.style.zIndex=4,e.style.zIndex=2,l.currentPage--,l.update()):u>-85&&"back"==l.status&&(t.style.webkitTransform="rotateX(180deg)",t.style.transform="rotateX(180deg)",e.style.webkitTransform="rotateX(0deg)",e.style.transform="rotateX(0deg)"),l.status=null,u=0,p=0,o.stopPropagation(),o.preventDefault()})},r.exports=a});