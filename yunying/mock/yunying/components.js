;/*!/components/flip/flip.js*/
define("components/flip/flip",function(t,e,r){var a=function(t,e,r){this.currentPage=e||0,this.currentCard=0,this.maxPage=t.length-3,this.status=null,this.callbacks=r,this.pageConfig=t,this.count=0,this.init()};a.prototype.init=function(){this.renderHtml(),this.update(),this.bindEvent()},a.prototype.renderHtml=function(){var t='<div class="content-wrapper">\n    <div class="content-container">\n        <div class="img-wrapper one">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n        <div class="img-wrapper two">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n        <div class="img-wrapper three">\n            <div class="page-top">\n\n            </div>\n            <div class="page-bottom">\n\n            </div>\n        </div>\n    </div>\n</div>',e=document.createElement("div");e.style.cssText="width:100%;height:100%",e.innerHTML=t,document.body.appendChild(e)},a.prototype.update=function(){this.callbacks.pageStat.apply(this,[]);var t=this.currentPage,e=this.pageConfig,r=e[t],a=e[t+2];this.maxCard=e[t+1].length;var s=.5*-document.body.clientHeight;if(this.count>0){if(this.status&&"forward"==this.status){var n=document.querySelector(".two");document.querySelector(".three").className="img-wrapper two",document.querySelector(".one").className="img-wrapper one",n.className="img-wrapper three"}if(this.status&&"back"==this.status){var n=document.querySelector(".two");document.querySelector(".one").className="img-wrapper two",document.querySelector(".three").className="img-wrapper three",n.className="img-wrapper one"}var o=document.querySelector(".one .page-top"),l=document.querySelector(".two .page-top"),i=document.querySelector(".three .page-top"),c=document.querySelector(".one .page-bottom"),d=document.querySelector(".two .page-bottom"),u=document.querySelector(".three .page-bottom");o.innerHTML=r.htmlContent,c.innerHTML=r.htmlContent,i.innerHTML=a.htmlContent,u.innerHTML=a.htmlContent;var p="";o.style.cssText=p,l.style.cssText=p,i.style.cssText=p,c.style.cssText=p,d.style.cssText=p,u.style.cssText=p;for(var m=document.querySelectorAll(".page-bottom"),y=0;y<m.length;y++)m[y].children[0].style.top=s+"px";this.status=null}else for(var m=document.querySelectorAll(".page-bottom"),g=document.querySelectorAll(".page-top"),y=0;y<m.length;y++)g[y].innerHTML=e[t+y].htmlContent,m[y].innerHTML=e[t+y].htmlContent;this.count++,e[t+1].events&&e[t+1].events()},a.prototype.bindEvent=function(){var t,e,r,a,s,n,o=document.querySelector(".content-container"),l=this,i={},c={},d=null,u=0,p=0;o.addEventListener("touchstart",function(o){t=document.querySelector(".one .page-bottom"),e=document.querySelector(".two .page-top"),r=document.querySelector(".two .page-bottom"),a=document.querySelector(".three .page-top"),s=document.querySelectorAll(".two .card-wrapper ul"),n=document.querySelectorAll(".two .tab");var l=o.touches[0];i={x:l.pageX,y:l.pageY},o.stopPropagation()}),o.addEventListener("touchmove",function(n){n.stopPropagation(),n.preventDefault();var o=n.touches[0];if(c={x:o.pageX,y:o.pageY},d){var m=i.y-c.y,y=c.x-i.x;if(Math.abs(m)<Math.abs(y)&&s.length>0){if("forward"!==l.status||"back"!==l.status){if(0>y&&!l.status){if(!(l.currentCard<l.maxCard-1))return;l.status="left"}"left"===l.status&&y>0&&(l.status=null),y>0&&!l.status&&(l.currentCard>0?l.status="right":(y=0,l.status=null));var g=s[0].children[0].clientWidth;y>g&&(y=g),-g>y&&(y=-g),p=y,y-=g*l.currentCard;for(var f=0;f<s.length;f++)s[f].style.webkitTransform="translate3d("+y+"px, 0, 0)",s[f].style.transform="translate3d("+y+"px, 0, 0)"}}else{if(m>0&&!l.status){if(!(l.currentPage<l.maxPage))return;l.status="forward"}if(0>m&&!l.status){if(!(l.currentPage>0))return;l.status="back"}if("forward"==l.status&&0>m)return;if("back"==l.status&&m>0)return;u=.4*m,"forward"==l.status&&(u>180&&(u=180),r.style.webkitTransform="rotateX("+u+"deg)",r.style.transform="rotateX("+u+"deg)",a.style.webkitTransform="rotateX("+(u-180)+"deg)",a.style.transform="rotateX("+(u-180)+"deg)",u>85&&(a.style.zIndex=4)),"back"==l.status&&(-180>u&&(u=-180),t.style.webkitTransform="rotateX("+(180+u)+"deg)",t.style.transform="rotateX("+(180+u)+"deg)",e.style.webkitTransform="rotateX("+u+"deg)",e.style.transform="rotateX("+u+"deg)",-85>u&&(t.style.zIndex=4,e.style.zIndex=2))}}d={x:c.x,y:c.y}}),o.addEventListener("touchend",function(o){o.changedTouches[0];if(p>50&&"right"===l.status){l.currentCard--;var i=s[0].children[0].clientWidth;p=-l.currentCard*i;for(var c=0;c<s.length;c++)s[c].style.webkitTransform="translate3d("+p+"px, 0, 0)",s[c].style.transform="translate3d("+p+"px, 0, 0)";for(var d=n.length,c=0;d>c;c++)n[c].style.opacity=0;n[l.currentCard].style.opacity=1,n[l.currentCard+.5*d].style.opacity=1}if(-50>p&&"left"===l.status){l.currentCard++;var i=s[0].children[0].clientWidth;p=-l.currentCard*i;for(var c=0;c<s.length;c++)s[c].style.webkitTransform="translate3d("+p+"px, 0, 0)",s[c].style.transform="translate3d("+p+"px, 0, 0)";for(var d=n.length,c=0;d>c;c++)n[c].style.opacity=0;n[l.currentCard].style.opacity=1,n[l.currentCard+.5*d].style.opacity=1}u>85&&"forward"==l.status?(r.style.webkitTransform="rotateX(180deg)",r.style.transform="rotateX(180deg)",a.style.webkitTransform="rotateX(0deg)",a.style.transform="rotateX(0deg)",a.style.webkitTransform="rotateX(0deg)",a.style.transform="rotateX(0deg)",a.style.zIndex=4,l.currentPage++,l.update()):85>u&&"forward"==l.status&&(r.style.webkitTransform="rotateX(0deg)",r.style.transform="rotateX(0deg)",a.style.webkitTransform="rotateX(180deg)",a.style.transform="rotateX(180deg)"),-85>u&&"back"==l.status?(t.style.webkitTransform="rotateX(0deg)",t.style.transform="rotateX(0deg)",e.style.webkitTransform="rotateX(180deg)",e.style.transform="rotateX(180deg)",t.style.zIndex=4,e.style.zIndex=2,l.currentPage--,l.update()):u>-85&&"back"==l.status&&(t.style.webkitTransform="rotateX(180deg)",t.style.transform="rotateX(180deg)",e.style.webkitTransform="rotateX(0deg)",e.style.transform="rotateX(0deg)"),l.status=null,u=0,p=0,o.stopPropagation(),o.preventDefault()})},r.exports=a});
;/*!/components/music/music.js*/
define("components/music/music",function(s,i,e){var t=function(s){this._events={},this.src=s.src,this.name=s.name||"",this.isLoop=s.isLoop||"loop",this.isAutoPlay=!0,this.gaplessBuffer=s.gaplessBuffer||1.2,this.musicCallbacks=s.musicCallbacks,this.init()};t.prototype.init=function(){this.render(),this.bindEvent()},t.prototype.render=function(){var s=this.musicIcon=document.createElement("div");s.className="music";var i='<div class="music-name"><p>'+this.name+"</p></div>";s.innerHTML=i,document.body.appendChild(s);var e=this.musicMedia=document.createElement("audio");e.style.cssText="display:none; height: 0",e.src=this.src,e.loop=this.isLoop,e.preload="auto"},t.prototype.play=function(s){s&&this.musicMedia.paused&&"music"===this.musicIcon.className&&this.musicMedia.play(),s||this.musicMedia.paused||this.musicMedia.pause()},t.prototype.bindEvent=function(){function s(){e.play(!0),document.body.removeEventListener("touchstart",s)}function i(){e.play(!0),document.addEventListener("WeixinJSBridgeReady",function(){e.play(!0)},!1),document.removeEventListener("DOMContentLoaded",i)}var e=this;this._events.musicLoopHandler=function(){var s=this.gaplessBuffer;this.currentTime>this.duration-s&&(this.currentTime=0,this.play())},this._events.musicIconHandler=function(s){var i=e.musicIcon.className;"music"===i?(e.musicIcon.className="music music-disable",e.musicMedia.paused||(e.musicMedia.pause(),e.musicCallbacks&&e.musicCallbacks.onClose&&e.musicCallbacks.onClose())):(e.musicIcon.className="music",e.musicMedia.paused&&(e.musicMedia.play(),e.musicCallbacks&&e.musicCallbacks.onOpen&&e.musicCallbacks.onOpen())),s.stopPropagation()},this.isAutoPlay&&(document.body.addEventListener("touchstart",s),document.addEventListener("DOMContentLoaded",i)),"loop"===this.isLoop&&this.musicMedia.addEventListener("timeupdate",this._events.musicLoopHandler),this.musicIcon.addEventListener("touchstart",this._events.musicIconHandler)},t.prototype.unbindEvent=function(){},e.exports=t});
;/*!/components/share/share.js*/
define("components/share/share",function(e,t,n){var i=function(e,t){this.init(e,t)};i.prototype.init=function(e,t){this.callbacks=t,this.data=e,this.getEnv(),this.loadSource(e,t),this.render(t)},i.prototype.getEnv=function(){return navigator.userAgent&&/micromessenger/gi.test(navigator.userAgent.toLowerCase())?void(this.env="weixin"):navigator.userAgent&&/baidumap_ANDR|baidumap_IPHO/gi.test(navigator.userAgent.toLowerCase())?void(this.env="map"):void(this.env="browser")},i.prototype.loadSource=function(e,t){var n=this,i=document.createElement("script");("map"===this.env||"weixin"===this.env)&&(i.src="http://s1.map.bdimg.com/yyfm/nativeAppAdapter/2.0.0/js/nativeAppAdapter.min.js"),"browser"===this.env&&(i.src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)),document.body.appendChild(i),i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||n.configData(e,t)}},i.prototype.render=function(e){var t=this.shareIcon=document.createElement("div");t.className="share",document.body.appendChild(t),"weixin"===this.env&&this.setWeixinDom(this.data.weixinTipImgUrl),"browser"===this.env&&this.setBrowserDom();var n=this;t.addEventListener("touchstart",function(){e&&e.shareIconClickCb&&e.shareIconClickCb(),"weixin"===n.env&&(n.showWeixinDom(),e&&e.weixinIconClickCb&&e.weixinIconClickCb()),"map"===n.env?(window.nativeAppAdapter.openShare(),e&&e.mapIconClickCb&&e.mapIconClickCb()):n.showBrowserDom()})},i.prototype.showShare=function(){var e=this,t=e.callbacks;t&&t.shareIconClickCb&&t.shareIconClickCb(),"weixin"===e.env&&(e.showWeixinDom(),t&&t.weixinIconClickCb&&t.weixinIconClickCb()),"map"===e.env&&(window.nativeAppAdapter.openShare(),t&&t.mapIconClickCb&&t.mapIconClickCb()),"browser"===e.env&&e.showBrowserDom()},i.prototype.configData=function(e,t){{var n=e.weibo,i=e.weixin,o=e.weixin,r=t.weiboConfirmCb,a=t.weixinConfirmCb,s=t.weixinFriendConfirmCb,c=t.weiboCancelCb,d=t.weixinCancelCb,l=t.weixinFriendCancelCb;e.weixinTipImgUrl}if("map"===this.env||"weixin"===this.env){var p=[{src:"weibo",text:n.desc||"",url:n.url+"?fr=weibo",pic:n.imgUrl,confirm:r||function(){},cancel:c||function(){}},{src:"weixin",title:i.title,text:i.desc||"",url:i.url+"?fr=weixin",contentType:"text",pic:i.imgUrl,confirm:a||function(){},cancel:d||function(){}},{src:"friend",text:o.title,url:o.url+"?fr=weixin_friend",contentType:"text",pic:o.imgUrl,confirm:s||function(){},cancel:l||function(){}}];window.nativeAppAdapter.initShare(p)}else window._bd_share_config={common:{bdText:n.title,bdDesc:n.desc,bdUrl:n.url+"?fr=weibo",bdPic:n.imgUrl},share:[{bdSize:50}]}},i.prototype.setWeixinDom=function(e){function t(){n.style.display="none",i.style.display="none"}var n=document.createElement("div");n.className="weixinzhezhao",n.style.display="none",document.body.appendChild(n);var i=document.createElement("div");i.className="weixintishi",i.innerHTML="<img src="+e+">",i.style.display="none",document.body.appendChild(i),n.addEventListener("touchstart",function(){t()}),i.addEventListener("touchstart",function(){t()})},i.prototype.showWeixinDom=function(){var e=document.querySelector(".weixinzhezhao"),t=document.querySelector(".weixintishi");e.style.display="block",t.style.display="block"},i.prototype.setBrowserDom=function(){var e=document.createElement("div");e.setAttribute("id","share-form"),e.setAttribute("class","share_form"),e.innerHTML='<div class="bdsharebuttonbox" data-tag="share_1"><span>分享到</span><a class="bds_tsina" data-cmd="tsina"></a><a class="bds_weixin" data-cmd="weixin"></a></div>',document.body.appendChild(e);var e=document.querySelector("#share-form"),t=document.querySelector(".bdsharebuttonbox"),n=function(t){t.preventDefault(),e.style.display="none";var n=document.querySelector(".bd_weixin_popup");n&&(n.style.display="none")},i=function(e){e.stopPropagation()};t.addEventListener("touchend",i,!1),e.addEventListener("touchend",n,!1)},i.prototype.showBrowserDom=function(){var e=document.querySelector("#share-form"),t=document.querySelector(".bdsharebuttonbox");e.style.display="block",t.style.left=(window.innerWidth-t.clientWidth)/2+"px"},i.prototype._jsonp=function(e,t,n,i){var o="jsonpcb"+(new Date).getTime();i=i||"cb",e=e+(e.indexOf("?")>-1?"&":"?")+i+"=window."+o,t.ctime=(new Date).getTime();for(var r in t)e+="object"==typeof t[r]?"&"+r+"="+JSON.stringify(t[r]):"&"+r+"="+t[r];var a=document.createElement("script");window[o]=function(e){a.parentNode.removeChild(a),delete window[o],n&&n(null,e)},a.onerror=function(){a.parentNode.removeChild(a),delete window[o],n&&n("error")},a.src=e,a.type="text/javascript",document.body.appendChild(a)},n.exports=i});